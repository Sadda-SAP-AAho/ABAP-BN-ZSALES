<mvc:View
    xmlns:rowmodes="sap.ui.table.rowmodes"
    xmlns="sap.m"
    xmlns:uxap="sap.uxap"
    xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    controllerName="zgatepass.controller.Details"
    height="100%"
>
    <Page
        id="_IDGenPage4"
        showHeader="true"
        showFooter="false"
    >
        <customHeader>
            <OverflowToolbar id="_IDGenOverflowToolbar6">
                <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                <Button
                    id="CancelEntry"
                    press="onClickCancelEntry"
                    text="Cancel Entry"
                />
                <Button
                    id="Delete"
                    press="onClickVhOut"
                    text="Vehicle Out"
                />
            </OverflowToolbar>
        </customHeader>
        <uxap:ObjectPageLayout
            id="ObjectPageLayout"
            headerContentPinned="true"
            upperCaseAnchorBar="false"
        >
            <uxap:sections>
                <uxap:ObjectPageSection
                    titleUppercase="false"
                    title="Gate Pass"
                    id="_IDGenPanel2"
                    class="sapUiResponsiveMargin"
                >
                    <uxap:subSections>
                        <uxap:ObjectPageSubSection id="goalsSectionSS1">
                            <uxap:blocks>
                                <smartForm:SmartForm
                                    id="smartForm"
                                    app:defaultCheckBoxDisplayBehaviour="OnOff"
                                    app:defaultDropDownDisplayBehaviour="idAndDescription"
                                    validationMode="Async"
                                >
                                    <smartForm:layout>
                                        <smartForm:ColumnLayout
                                            id="_IDGenColumnLayout"
                                            columnsM="2"
                                            columnsL="3"
                                            columnsXL="3"
                                        />
                                    </smartForm:layout>
                                    <smartForm:Group id="_IDGenGroup1">
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField"
                                                value="{GatePass}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement1"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField1"
                                                value="{EntryDate}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement3"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField3"
                                                value="{Type}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement>
                                            <smartField:SmartField
                                                value="{Plant}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement5"
                                        >
                                            <smartField:SmartField
                                                value="{SalesmanName}"
                                            />
                                            <smartField:SmartField
                                                visible="{= ${SalesmanCode} !== ''}"
                                                value="{SalesmanCode}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement13"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField14"
                                                value="{VehicleNumber}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement14"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField15"
                                                value="{DriverName}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement2"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField4"
                                                value="{RouteName}"
                                            />
                                        </smartForm:GroupElement>
                                    </smartForm:Group>
                                    <smartForm:Group id="_IDGenGroup">
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement4"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField8"
                                                value="{Cmcrate1}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement16"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField17"
                                                value="{Cmcrate2}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement17"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField18"
                                                value="{Cmcrate3}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement18"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField190"
                                                value="{Cmcrate4}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement7"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField5"
                                                value="{Cb}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement20"
                                            visible="{VehicleOut}"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField16"
                                                value="{OutDate}"
                                            />
                                            <smartField:SmartField
                                                id="_IDGenSmartField22"
                                                value="{OutTime}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement201"
                                            visible="{VehicleOut}"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField167"
                                                value="{VehOutRemarks}"
                                            />
                                        </smartForm:GroupElement>
                                    </smartForm:Group>

                                    <smartForm:Group id="_IDGenGroup2">
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement19"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField20"
                                                value="{BillAmount}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement26"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField27"
                                                value="{MultiGPass}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement34"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField35"
                                                value="{FirstGpNumber}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement180"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField19"
                                                value="{FirstGpAmount}"
                                            />
                                        </smartForm:GroupElement>

                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement22"
                                            visible="{VehicleOut}"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField23"
                                                value="{OutMeterReading}"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement
                                            id="_IDGenGroupElement23"
                                        >
                                            <smartField:SmartField
                                                id="_IDGenSmartField240"
                                                value="{= ${Cancelled} === True ? 'Yes' : 'No' }"
                                            />
                                        </smartForm:GroupElement>
                                        <smartForm:GroupElement>
                                            <smartField:SmartField
                                                value="{VrnNo}"
                                            />
                                        </smartForm:GroupElement>
                                    </smartForm:Group>
                                </smartForm:SmartForm>
                            </uxap:blocks>
                        </uxap:ObjectPageSubSection>
                    </uxap:subSections>
                </uxap:ObjectPageSection>
                <uxap:ObjectPageSection
                    titleUppercase="false"
                    id="_IDGenPanel4"
                    class="sapUiResponsiveMargin"
                    title="Lines"
                    showTitle="false"
                >
                    <uxap:subSections>
                        <uxap:ObjectPageSubSection
                            id="_IDGenObjectPageSubSection2"
                        >
                            <uxap:blocks>
                                <smartTable:SmartTable
                                    id="_IDGenSmartTable1"
                                    entitySet="GatePassLine"
                                    smartFilterId="_IDGenSmartFilterBar"
                                    tableType="ResponsiveTable"
                                    fieldGroupIds="Entrydate"
                                    header="Entry Lines"
                                    persistencyKey="SmartTableAnalytical_Explored"
                                    enableAutoBinding="true"
                                    class="sapUiResponsiveContentPadding"
                                    enableAutoColumnWidth="true"
                                    editTogglable="false"
                                    ignoredFields="__metadata"
                                    initiallyVisibleFields="PassLineNo,DocumentNo,DocumentDate,Amount,Quantity,VrNo"
                                    app:useSmartToggle="true"
                                    showFullScreenButton="true"
                                    beforeRebindTable="onBeforeRebindTable"
                                >
                                    <table:Table
                                        id="_IDGenTable"
                                        mode="None"
                                    />

                                    <smartTable:layoutData>
                                        <FlexItemData
                                            id="_IDGenFlexItemData3"
                                            growFactor="1"
                                            baseSize="0%"
                                        />
                                    </smartTable:layoutData>
                                </smartTable:SmartTable>
                            </uxap:blocks>
                        </uxap:ObjectPageSubSection>
                    </uxap:subSections>
                </uxap:ObjectPageSection>
            </uxap:sections>
        </uxap:ObjectPageLayout>
    </Page>
    <Dialog
        id="_IDGenDialog1"
        title="Vehicle Out"
        class="sapUiContentPadding"
    >
        <content>
            <VBox
                id="_IDGenVBox1"
                width="100%"
            >
                <Label
                    id="_IDGenLabel"
                    text="Out Meter Reading:"
                />
                <Input
                    id="idPlantInput"
                    type="Number"
                    width="100%"
                />

                <Label text="Remarks:" />
                <TextArea
                    id="VehOutRemarks"
                    width="100%"
                />
            </VBox>
        </content>

        <!-- Footer Buttons -->
        <beginButton>
            <Button
                id="_IDGenButton"
                text="Post"
                type="Emphasized"
                press="onClickPost"
            />
        </beginButton>
        <endButton>
            <Button
                id="_IDGenButton7"
                text="Cancel"
                press="onCloseDialog"
            />
        </endButton>
    </Dialog>
</mvc:View>
